<template name="quizContent">
    <div class="col-xs-12 col-sm-9">
        <div class="panel panel-default">
            <div class="panel-heading">
                {{activeQuiz.title}}
                {{#if isEditingCurrentCourse}}
                    <button id="saveQuizBtn"
                            class="btn-xs btn-success save-quiz-btn pull-right"
                            >
                        Save Quiz
                    </button>
                {{/if}}
            </div>
            <div class="panel-body">
            {{#if isEditingCurrentCourse }}<!-- check the global helper -->
                <div class="form-group-sm form-inline">
                    <label for="questionTypesSelector">Select question type</label>
                    <select id="questionTypesSelector" class="form-control small">
                        <option disabled selected>Select question type</option>
                        {{#each questionType in questionTypes }}
                            <option>{{ questionType }}</option>
                        {{/each}}
                    </select>
                </div>
            {{/if}}

            {{#if currentQuestionToBuild}}
                <div class="col-sm-12 question-wrapper new-question-wrapper">

                    {{>questionWrapper question=currentQeustionToBuild }}
                    <br/>

                        {{#autoForm collection="Questions"
                        id="addSingleAnswerQuestionForm"
                        type="method" meteormethod="addSingleAnswerQuestion"
                        resetOnSuccess=true}}
                            <fieldset>
                                {{> afQuickField name='title'}}
                                {{> afQuickField name='description' rows=3}}

                                {{#if isTrueOrFalse}}
                                    <!-- do not display a drop down -->
                                {{else}}
                                    {{> afQuickField class="js-number-of-options" name="numberOfOptions" type="select"
                                    options=selectDropdownOptions
                                    firstOption=" -- Select a number of options to chose from -- "}}
                                {{/if}}

                                {{> afQuickField name="questionType" value=qType  type="hidden"}}


                                <!-- layout out all eight input controls, will hide the unused ones -->
                                {{>afFieldRadioWithTextInput index="0" questionType=selectedQuestionType
                                    totalNumQuestions=numOfChoices name="optionTitles" }}
                                {{>afFieldRadioWithTextInput index="1" questionType=selectedQuestionType
                                    totalNumQuestions=numOfChoices name="optionTitles" }}
                                {{>afFieldRadioWithTextInput index="2" questionType=selectedQuestionType
                                    totalNumQuestions=numOfChoices name="optionTitles" }}
                                {{>afFieldRadioWithTextInput index="3" questionType=selectedQuestionType
                                    totalNumQuestions=numOfChoices name="optionTitles" }}
                                {{>afFieldRadioWithTextInput index="4" questionType=selectedQuestionType
                                    totalNumQuestions=numOfChoices name="optionTitles" }}
                                {{>afFieldRadioWithTextInput index="5" questionType=selectedQuestionType
                                    totalNumQuestions=numOfChoices name="optionTitles" }}
                                {{>afFieldRadioWithTextInput index="6" questionType=selectedQuestionType
                                    totalNumQuestions=numOfChoices name="optionTitles" }}
                                {{>afFieldRadioWithTextInput index="7" questionType=selectedQuestionType
                                    totalNumQuestions=numOfChoices name="optionTitles" }}

                            </fieldset>
                            <button type="submit" class="btn btn-primary">Add to quiz</button>
                        {{/autoForm}}
                    </div>
                {{/if}}

            {{>quizQuestions quiz=activeQuiz}}
            </div>
        </div>
    </div>
</template>